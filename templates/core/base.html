{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Q&A Platform</title>
	<link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
<header>
	<nav class="top-bar">
		<div class="container" id="top-bar-container">
			<a href="{% url 'questions_list' %}" class="top-bar-logo" aria-label="Home">
				<strong>Q&A Platform</strong>
			</a>

			<ul class="top-bar-links">
				{% if request.user.is_authenticated %}
					<li><a href="{% url 'question_create' %}">Ask Question</a></li>
					<li><a href="{% url 'profile-details' user.pk %}">Profile</a></li>
					{% include 'users/logout.html' %}
				{% else %}
					<li><a href="{% url 'login' %}">Log In</a></li>
					<li><a href="{% url 'register' %}">Sign Up</a></li>
				{% endif %}
			</ul>
		</div>
	</nav>
</header>

<main>
	{% block content %}
	{% endblock %}
</main>

<footer class="footer">
	<div class="container">
		<div class="footer-copy">
			&copy; {{ year }} Your Q&amp;A Platform. All rights reserved.
		</div>
	</div>
</footer>


<script>
	document.addEventListener('DOMContentLoaded', function() {
		// Select the first field with an error (input, textarea, select)
		var firstError = document.querySelector('.has-error input, .has-error textarea, .has-error select');
		if (firstError) {
			// Focus it
			firstError.focus();
			// If it's a type we can move the caret to the end (input or textarea)
			if (
				firstError.tagName === "INPUT" &&
				(firstError.type === "text" || firstError.type === "email" || firstError.type === "search" || firstError.type === "password" || firstError.type === "url" || firstError.type === "tel" || firstError.type === "number")
			) {
				// Move cursor to the end for input fields
				var val = firstError.value;
				firstError.setSelectionRange(val.length, val.length);
			} else if (firstError.tagName === "TEXTAREA") {
				// Move cursor to the end for textarea
				var val = firstError.value;
				firstError.setSelectionRange(val.length, val.length);
			}
			// Scroll into view for extra UX polish
			firstError.scrollIntoView({behavior: "smooth", block: "center"});
		}
	});
</script>


</body>
</html>
